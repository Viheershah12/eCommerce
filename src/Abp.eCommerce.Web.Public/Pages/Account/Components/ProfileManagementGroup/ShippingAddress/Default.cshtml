@using Abp.eCommerce.Localization
@using Abp.eCommerce.Web.Public.Models.Order
@using Abp.eCommerce.Web.Public.Models.Profile
@using Microsoft.Extensions.Localization
@using Volo.Abp.AspNetCore.Mvc.UI.Theming
@using Volo.Abp.Settings
@using Volo.Abp.Users

@inject IStringLocalizer<eCommerceResource> L
@inject ICurrentUser CurrentUser
@inject ISettingProvider SettingManager
@inject IThemeManager ThemeManager
@inject IStringLocalizerFactory StringLocalizerFactory

@model UserAddressViewModel

<h4 class="text-primary fw-semibold">
    <i class="fa fa-user-edit me-2"></i>@L["ShippingAddress"]
</h4>
<hr class="mb-4" />

<form method="post" id="ShippingAddressForm" class="needs-validation" novalidate>
    <abp-row>
        <abp-column size-md="_8">
            @* <div class="form-floating mb-3">
                <input type="text" class="form-control address-input" id="Shipping_Address" asp-for="Address" data-prefix="Shipping" />
                <label asp-for="Address"></label>
                <span asp-validation-for="Address" class="text-danger"></span>
            </div> *@

            <gmp-place-autocomplete class="form-control address-input" name="Address" id="Shipping_Address"
                                    data-prefix="Shipping"></gmp-place-autocomplete>

            <div id="shipping-map" style="height: 300px;" class="mt-2"></div>
            <div id="place-autocomplete-card" style="display: none;"></div>
        </abp-column>

        <div id="addressComponents" class="d-none">
            <abp-column size-md="_6">
                <abp-input asp-for="UnitNumber" id="Shipping_UnitNumber" floating-label="true" />
            </abp-column>

            <abp-column size-md="_6">
                <abp-input asp-for="StreetNumber" id="Shipping_StreetNumber" floating-label="true" />
            </abp-column>

            <abp-column-breaker />

            <abp-column size-md="_6">
                <abp-input asp-for="BuildingName" id="Shipping_BuildingName" floating-label="true" />
            </abp-column>

            <abp-column size-md="_6">
                <abp-input asp-for="PostalCode" id="Shipping_PostalCode" floating-label="true" />
            </abp-column>

            <abp-column-breaker />

            <abp-column size-md="_6">
                <abp-input asp-for="Locality" id="Shipping_Locality" floating-label="true" />
            </abp-column>

            <abp-column size-md="_6">
                <abp-input asp-for="Country" id="Shipping_Country" floating-label="true" />
            </abp-column>

            <abp-input asp-for="Address" type="hidden" id="Shipping_Address" />
            <abp-input asp-for="Sublocality" id="Shipping_Sublocality" type="hidden" />
            <abp-input asp-for="AdministrativeAreaLevel1" id="Shipping_AdministrativeAreaLevel1" type="hidden" />
            <abp-input asp-for="AdministrativeAreaLevel2" id="Shipping_AdministrativeAreaLevel2" type="hidden" />
            <abp-input asp-for="Longitude" id="Shipping_Longitude" type="hidden" />
            <abp-input asp-for="Latitude" id="Shipping_Latitude" type="hidden" />
        </div>
    </abp-row>
</form>
@using Abp.eCommerce.Web.Public.Pages.Account.Components.ProfileManagementGroup.Password
@using Volo.Abp.Account.Localization
@using Volo.Abp.Users
@using Microsoft.AspNetCore.Mvc.Localization

@inject IHtmlLocalizer<AccountResource> L
@inject ICurrentUser CurrentUser
@model AccountProfilePasswordManagementGroupViewComponent.ChangePasswordInfoModel

<h4 class="text-primary fw-semibold">
    <i class="fa fa-lock me-2"></i>@L["ChangePassword"]
</h4>
<hr />

<form id="ChangePasswordForm">
    @if (!Model.HideOldPasswordInput)
    {
        <div class="form-floating mb-4 position-relative">
            <input asp-for="CurrentPassword" type="password" class="form-control rounded" placeholder="@L["DisplayName:CurrentPassword"]" autocomplete="new-password" />
            <label asp-for="CurrentPassword"></label>
            <button type="button" class="btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 password-visibility-button">
                <i class="fa fa-eye-slash"></i>
            </button>
            <span asp-validation-for="CurrentPassword" class="text-danger d-block mt-1"></span>
        </div>
    }

    <div class="form-floating mb-4 position-relative">
        <input asp-for="NewPassword" type="password" class="form-control rounded" placeholder="@L["DisplayName:NewPassword"]" autocomplete="new-password" />
        <label asp-for="NewPassword"></label>
        <button type="button" class="btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 password-visibility-button">
            <i class="fa fa-eye-slash"></i>
        </button>
        <span asp-validation-for="NewPassword" class="text-danger d-block mt-1"></span>
    </div>

    <div class="form-floating mb-4 position-relative">
        <input asp-for="NewPasswordConfirm" type="password" class="form-control rounded" placeholder="@L["DisplayName:NewPasswordConfirm"]" autocomplete="new-password" />
        <label asp-for="NewPasswordConfirm"></label>
        <button type="button" class="btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 password-visibility-button">
            <i class="fa fa-eye-slash"></i>
        </button>
        <span asp-validation-for="NewPasswordConfirm" class="text-danger d-block mt-1"></span>
    </div>

    <div class="text-end mt-4">
        <abp-button type="submit" button-type="Primary" text="@L["ChangePassword"].Value" class="mt-3" />
    </div>
</form>
